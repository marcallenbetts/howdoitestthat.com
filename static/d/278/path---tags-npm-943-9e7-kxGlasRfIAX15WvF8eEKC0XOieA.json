{"data":{"site":{"siteMetadata":{"title":"How Do I Test That?","author":"Marc Betts","labels":[{"tag":"react","tech":"React","name":"DiReact","size":20,"color":"deepskyblue"},{"tag":"git","tech":"Git","name":"DiGitMerge","size":20,"color":"white"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":20,"color":"yellow"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":20,"color":"teal"},{"tag":"python","tech":"Python","name":"DiPython","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":20,"color":"lightgreen"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":20,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":20,"color":"wheat"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":20,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":20,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":20,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":20,"color":"green"},{"tag":"mongoose","tech":"Mongoose","name":"DiMongodb","size":20,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":20,"color":"deepskyblue"},{"tag":"android","tech":"Android","name":"DiAndroid","size":20,"color":"green"},{"tag":"cli","tech":"cli","name":"DiTerminal","size":20,"color":"white"},{"tag":"curl","tech":"curl","name":"DiTerminal","size":20,"color":"white"},{"tag":"mobile","tech":"Mobile","name":"FaMobileAlt","size":20,"color":"white"},{"tag":"proxy","tech":"proxy","name":"FaServer","size":20,"color":"white"},{"tag":"charlesproxy","tech":"Charles Proxy","name":"FaTools","size":20,"color":"white"},{"tag":"mitmproxy","tech":"mitmproxy","name":"FaTools","size":20,"color":"white"},{"tag":"postman","tech":"Postman","name":"DiTerminal","size":20,"color":"white"},{"tag":"newman","tech":"Newman","name":"FaTools","size":20,"color":"white"},{"tag":"express","tech":"Express","name":"FaJsSquare","size":20,"color":"white"},{"tag":"webserver","tech":"webserver","name":"FaServer","size":20,"color":"white"},{"tag":"nginx","tech":"NGINX","name":"FaServer","size":20,"color":"white"},{"tag":"apitesting","tech":"API Testing","name":"FaServer","size":20,"color":"white"},{"tag":"serveo","tech":"Serveo","name":"FaTools","size":20,"color":"white"},{"tag":"ngrok","tech":"ngrok","name":"FaTools","size":20,"color":"white"},{"tag":"localtunnel","tech":"Localtunnel","name":"FaTools","size":20,"color":"white"},{"tag":"network","tech":"Network","name":"FaEthernet","size":20,"color":"white"},{"tag":"lodash","tech":"Lodash","name":"FaJsSquare","size":20,"color":"white"},{"tag":"moment","tech":"Moment","name":"FaJsSquare","size":20,"color":"white"}]}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"excerpt":"I generally have a bad habit of putting off software updates as long as possible. My Macbook\nhas been nagging me about OS updates daily for about the past 3 months and I keep clicking 'Remind\nMeâ€¦","html":"<p>I generally have a bad habit of putting off software updates as long as possible. My Macbook\nhas been nagging me about OS updates daily for about the past 3 months and I keep clicking 'Remind\nMe Tomorrow' each time.</p>\n<p>But I've got a couple days off work and <a href=\"https://webdriver.io/blog/2018/12/19/webdriverio-v5-released.html\">WebdriverIO</a>\njust released v5 so I thought I'd take a chance and see what it would take to update. My initial thought was that\nit would be a couple hours of quick updates or a couple hours to determine it's going to be more effort than it's\nworth.</p>\n<p>So I started with their step-by-step instructions:</p>\n<h3>read the <a href=\"https://github.com/webdriverio/webdriverio/blob/master/CHANGELOG.md#v500-2018-12-20\">changelog</a> to understand all breaking changes</h3>\n<p>Reading through the changelog made me optimistic that I was going to have to do a few page object updates\nand be done.</p>\n<h3>remove all wdio-* packages from your package.json</h3>\n<p>Easy enough. A handful of <code class=\"language-text\">yarn remove</code> commands and moving forward.</p>\n<h3>remove your node_modules director</h3>\n<p>Easy peasy.</p>\n<h3>install the latest version of webdriverio: $ npm install webdriverio@latest</h3>\n<p>Piece of cake. Just sub <code class=\"language-text\">yarn add</code> for <code class=\"language-text\">npm install</code>. It's worth noting at this point that\nI made several technical decisions early on in this automation project based on what my development team\nis using. Personally, I don't have strong opinions between npm and Yarn. But my dev team is using Yarn\nso I went with that to keep dev and testing as aligned as possible.</p>\n<h3>install the new wdio testrunner: $ npm install @wdio/cli --save-dev</h3>\n<p>Sure thing.</p>\n<h3>if you have a wdio.conf.js in your root directory, create a backup: $ cp wdio.conf.js wdio_backup.conf.js</h3>\n<p>I actually backed up the file. Not just nuke it and rely on GitHub having my back. Actually created a backup copy.</p>\n<h3>rerun the configuration wizard: $ ./node_modules/.bin/wdio config</h3>\n<p>The last four steps went swimmingly easy and I'm starting to feel confident at this point. But this is where things\nstart to go pear shaped for me. Running the config script is giving me errors that it can't find the template to\ncreate the config file. A quick search and it looks like I'm up against <a href=\"https://github.com/webdriverio/webdriverio/issues/2215\">this issue</a>.</p>\n<p>I wasn't in the mood to deal with esoteric Yarn issues; as I mentioned earlier, I don't have strong opinions about\nYarn vs. npm. The path of least resistance was <code class=\"language-text\">rm -rf node_modules &amp;&amp; npm install</code>. I figured I could re-visit\nYarn later. Seeing tests run was more important for today.</p>\n<h3>merge custom modifications of your old wdio_backup.conf.js into your new config file. Don't merge everything at once - just begin with the basic setup using no services and just the e.g. spec reporter to run tests locally and work torwards a full migration</h3>\n<p>I was actually looking forward to this. My current config file is a nightmare of months of trying out various configs\nand then commenting them out instead of deleting them. So starting from a clean config felt good.</p>\n<p>The only minor issue I ran across here is that I had forgotten that selenium-standalone is not part of the WebdriverIO\nproject so I needed to install it.</p>\n<h3>take the simplest test in your suite and rename the commands according to the changelog</h3>\n<p>This is where everything went out the window. My simplest test was failing and not giving any meaningful error\nmessages. About 20 minutes in to debugging I realize I don't have the correct types in my project.</p>\n<p>Did I forget to mention I'm using TypeScript for this project? </p>\n<p>Quick search and it looks like <a href=\"https://github.com/webdriverio/webdriverio/pull/2862\">typing is in progress</a> and was\nde-scoped from the v5 initial release.</p>\n<h3>TL;DR</h3>\n<ol>\n<li>Yarn is currently causing problems with generating a config file, but I'm pretty sure I can work around that.</li>\n<li>I'm putting this on hold until types are available. Hopefully soon.</li>\n</ol>","id":"d7b68058-9f21-566d-a421-e309019598bb","frontmatter":{"title":"Updating to WebdriverIO 5, Part 1","date":null,"tags":["webdriverio","selenium","yarn","npm","typescript"]},"fields":{"slug":"/upgrading-to-wdio-5/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tag":"npm"}}