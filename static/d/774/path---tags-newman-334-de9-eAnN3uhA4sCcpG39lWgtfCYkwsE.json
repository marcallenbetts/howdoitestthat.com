{"data":{"site":{"siteMetadata":{"title":"How Do I Test That?","author":"Marc Betts","labels":[{"tag":"react","tech":"React","name":"DiReact","size":20,"color":"deepskyblue"},{"tag":"git","tech":"Git","name":"DiGitMerge","size":20,"color":"white"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":20,"color":"yellow"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":20,"color":"teal"},{"tag":"python","tech":"Python","name":"DiPython","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":20,"color":"lightgreen"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":20,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":20,"color":"wheat"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":20,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":20,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":20,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":20,"color":"green"},{"tag":"mongoose","tech":"Mongoose","name":"DiMongodb","size":20,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":20,"color":"deepskyblue"},{"tag":"android","tech":"Android","name":"DiAndroid","size":20,"color":"green"},{"tag":"cli","tech":"cli","name":"DiTerminal","size":20,"color":"white"},{"tag":"curl","tech":"curl","name":"DiTerminal","size":20,"color":"white"},{"tag":"mobile","tech":"Mobile","name":"FaMobileAlt","size":20,"color":"white"},{"tag":"proxy","tech":"proxy","name":"FaServer","size":20,"color":"white"},{"tag":"charlesproxy","tech":"Charles Proxy","name":"FaTools","size":20,"color":"white"},{"tag":"mitmproxy","tech":"mitmproxy","name":"FaTools","size":20,"color":"white"},{"tag":"postman","tech":"Postman","name":"DiTerminal","size":20,"color":"white"},{"tag":"newman","tech":"Newman","name":"FaTools","size":20,"color":"white"},{"tag":"express","tech":"Express","name":"FaJsSquare","size":20,"color":"white"},{"tag":"webserver","tech":"webserver","name":"FaServer","size":20,"color":"white"},{"tag":"nginx","tech":"NGINX","name":"FaServer","size":20,"color":"white"},{"tag":"apitesting","tech":"API Testing","name":"FaServer","size":20,"color":"white"},{"tag":"serveo","tech":"Serveo","name":"FaTools","size":20,"color":"white"},{"tag":"ngrok","tech":"ngrok","name":"FaTools","size":20,"color":"white"},{"tag":"localtunnel","tech":"Localtunnel","name":"FaTools","size":20,"color":"white"},{"tag":"network","tech":"Network","name":"FaEthernet","size":20,"color":"white"},{"tag":"lodash","tech":"Lodash","name":"FaJsSquare","size":20,"color":"white"},{"tag":"moment","tech":"Moment","name":"FaJsSquare","size":20,"color":"white"}]}},"allMarkdownRemark":{"totalCount":2,"edges":[{"node":{"excerpt":"Postman has been my goto tool for API testing for the past year or so. When\nI hit a wall with using it I turn to All Things Postman. \nBut I realized most of what I end up looking for is the basic…","html":"<p><a href=\"https://www.getpostman.com/\">Postman</a> has been my goto tool for API testing for the past year or so. When\nI hit a wall with using it I turn to <a href=\"https://github.com/DannyDainton/All-Things-Postman\">All Things Postman</a>.\nBut I realized most of what I end up looking for is the basic stuff that covers 90 percent of my\ndaily use in one place.</p>\n<h3>Environment Variables</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pm.environment.set(&#39;someVariable&#39;, someValue)\npm.environment.get(&#39;someVariable&#39;)\npm.environment.unset(&#39;someVariable&#39;)</code></pre></div>\n<h3>Lodash</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//select random item from an array\n_.sample([a, b, c])\n\n//random number within a range\n_.random(1, 10)\n\n//repeat a command\n_.times(5, () =&gt; {\n    //do stuff\n})</code></pre></div>\n<h3>Moment</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var now = moment()\nvar tomorrow = moment().add(1, &#39;day&#39;)</code></pre></div>\n<h3>Tests</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pm.test(&#39;example test&#39;, () =&gt; {\n    pm.expect(pm.response.code).to.eql(200)\n    pm.expect(pm.response.status).to.eql(&#39;OK&#39;)\n\n    var response = pm.resonse.json()\n\n    if response.length === null throw new ERROR(    )\n\n    //verify response value\n    pm.expect(response.name).to.eql(&#39;Marc&#39;)\n    \n    //verify a date is a valid date\n    pm.expect(moment(response.date).isValid()).to.be.true\n\n    //verify result matches a regex\n    pm.expect(response.name).to.match(/[A-Z}{1}[a-z]{3}/)\n\n    //verify type of object\n    pm.expect(response.name).to.be.a(&#39;string&#39;)\n\n    //verify a header value\n    pm.expect(postman.getResponseHeader(&#39;some-header&#39;))\n        .to.eql(&#39;some-value&#39;)\n})</code></pre></div>\n<h3>Scripts</h3>\n<p>Send a post request</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pm.sendRequest({\n    url: &#39;http://testurl&#39;,\n    method: &#39;POST,\n    header: {\n        &#39;Content-Type&#39;: &#39;application/json&#39;\n    }\n    body: {\n        mode: &#39;raw&#39;,\n        raw: JSON.stringify(someJSON)\n    }, (err, res) =&gt;{\n        console.log((err ? err : res.json());\n    }\n});</code></pre></div>\n<p>Set next request (Note that this uses <code class=\"language-text\">postman</code> object and\nnot <code class=\"language-text\">pm</code> obect)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">postman.setNextRequest(&#39;name of request&#39;)</code></pre></div>\n<h3>Newman</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//run a collection\nnewman run my_collection.postman_collection.json\n\n//run with environment file\nnewman run my_collection.postman_collection.json \n-e my_environment.postman_environment.json\n\n//run with data file\nnewman run my_collection.postman_collection.jsonn -d data.json\n\n//disable SSL validations (useful if running through a proxy)\nnewman run my_collection.postman_collection.json --insecure</code></pre></div>","id":"5e81b094-bc66-5a76-9603-0a4c26fba8d6","frontmatter":{"title":"Postman cheat sheet","date":"June, 2019","tags":["postman","newman","lodash","moment"]},"fields":{"slug":"/postman-cheat-sheet/"}}},{"node":{"excerpt":"Anybody who has worked with me for more than five minutes know that I have two \nbasic categories of test tools that I gravitate toward: proxies and command line\ntools.Proxies are great because they…","html":"<p>Anybody who has worked with me for more than five minutes know that I have two\nbasic categories of test tools that I gravitate toward: proxies and command line\ntools.</p>\n<p>Proxies are great because they give you valuable insight in to the network requests\nyour application is making that aren't usually visible from within the app. Command line\ntools are great for lots of reasons, mainly because junior developers and less tech savvy\npeople on the team will think you are some sort of super hacker wizard if they walk by and see\nyou frantically typing in a terminal window.</p>\n<p>But it's not alwasy obvious how to get your terminal to send network traffic to a proxy.</p>\n<p>These days I use <a href=\"https://www.getpostman.com/\">Postman</a> as my API test tool of choice. It's\na solid tool for testing and includes a commmand line runner (Newman). When using the GUI,\nit's really easy to see the requests and responses. When running Newman from the command line, not\nso much.</p>\n<p>So how do you configure CLIs to use a local proxy? Turns out you just need to set the <code class=\"language-text\">http_proxy</code>\nenvironment variable. And when you're done you can <code class=\"language-text\">unset</code> it. (Examples below use the default port for <a href=\"https://www.charlesproxy.com/\">Charles Proxy</a>).</p>\n<h3>TL;DR</h3>\n<ul>\n<li><code class=\"language-text\">export http_proxy=http://localhost:8888</code></li>\n<li><code class=\"language-text\">export https_proxy=http://localhost:8888</code></li>\n<li><code class=\"language-text\">unset http_proxy</code></li>\n<li><code class=\"language-text\">unset https_proxy</code></li>\n</ul>","id":"aeabd451-94eb-5b53-aa64-1efcb78efb6a","frontmatter":{"title":"Proxy command line processes","date":"January, 2019","tags":["proxy","charlesproxy","postman","newman","cli"]},"fields":{"slug":"/proxy-command-line-processes/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tag":"newman"}}